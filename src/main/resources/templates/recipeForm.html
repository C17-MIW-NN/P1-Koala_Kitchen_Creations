<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head th:replace="~{fragments/general :: baseheader(~{:: title})}">
    <title>Replace this title</title>
</head>

<body>
<div class="page-wrapper">
    <nav th:replace="~{fragments/general :: navbar}"></nav>

    <main class="page-main">
        <form method="post" th:action="@{/recipe/save}" th:object="${formRecipe}">
            <input type="hidden" th:field="*{recipeId}" />
            <div class="mb-3">
                <label for="recipeName" class="form-label">Name</label>
                <input type="text" class="form-control" id="recipeName" th:field="*{name}">
            </div>
            <div class="mb-3">
                <label for="recipeDescription" class="form-label">Description</label>
                <textarea type="text" class="form-control" id="recipeDescription" th:field="*{description}"></textarea>
            </div>
            <div class="input-group mb-3" th:each="ingredient, itemStat : *{recipeIngredients}">
                <input type="hidden" th:field="*{recipeIngredients[__${itemStat.index}__].recipeIngredientsId}" />
                <input class="form-control" th:field="*{recipeIngredients[__${itemStat.index}__].name}" />
                <input class="form-control" th:field="*{recipeIngredients[__${itemStat.index}__].quantity}" />
            </div>
            <button type="submit" class="btn btn-primary">
                <span th:if="${formRecipe.recipeId == null}">Add recipe</span>
                <span th:unless="${formRecipe.recipeId == null}">Update recipe</span>
            </button >
        </form>
    </main>

    <footer th:replace="~{fragments/general :: footer}"></footer>
    <div th:replace="~{fragments/general :: bottomScripts}"></div>
</div>
</body>
</html>